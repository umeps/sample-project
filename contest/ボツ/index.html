<!DOCTYPE html>
<html>
<head>
    <title>近未来店舗</title>
  <meta charset="utf-8"/>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Nova+Round">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="modal.css">
  <link rel="stylesheet" href="./css-loading-animation-12/dist/style.css"> <!--loading-->
  <link rel="stylesheet" href="./menu-with-mix-blend-mode-buttons/dist/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="main.js"></script>
  <script src="btn.js"></script>
</head>
<body>
		<div class="loader" id="loading">
				<div class="inner one"></div>
				<div class="inner two"></div>
				<div class="inner three"></div>
		</div>





        <div id="container">
				<div id="1" class="popup">
					<h2>店舗情報</h2>
					<a href="#" class="access">閉じる</a>
					<div class="row mt-4">
						<div class="col-6 mr-3"><img src="./img/shop1.jpg" alt=""></div>
						<div class="col-4 offset-1 text-left p-0">
								<div class="row">住所：東京都府中市日吉町1-1</div>
								<img src="./img/map.png" alt="" class="img-fluid">
								<img src="./img/dance.png" alt="" class="stm">
								<div class="row ">営業時間</div>
								<div class="">9:00~17:00</div>
								<div class="row ">定休日</div>
								<div class="">不定休</div>
						</div>
					</div>
					
				</div>

				<div id="2" class="popupMaill">
						<h2>店舗情報</h2>
						<a href="#" class="maill">閉じる</a>
						<div class="row mt-4">
							<div class="col-6 mr-3"><img src="./img/shop1.jpg" alt=""></div>
							<div class="col-4 offset-1 text-left p-0">
									<div class="row">住所：東京都府中市日吉町1-1</div>
									<img src="./img/map.png" alt="" class="img-fluid">
									<img src="./img/dance.png" alt="" class="stm">
									<div class="row ">営業時間</div>
									<div class="">9:00~17:00</div>
									<div class="row ">定休日</div>
									<div class="">不定休</div>
							</div>
						</div>

				</div>
				
				
					<div class="btn1" style="z-index: 99999;">
							<div id="wrap">
									<a href="#" class="access"><i class="fas fa-home"></i></a>  
									<a href="#" class="maill"><i class="fas fa-envelope mt-3"></i> </a>
							</div>
					</div>
		</div>
  <script type="module">
	  	import * as THREE from 'https://threejs.org/build/three.module.js';
		import { TWEEN } from 'https://threejs.org/examples/jsm/libs/tween.module.min.js';
		import { TrackballControls } from 'https://threejs.org/examples/jsm/controls/TrackballControls.js';
		import { CSS3DRenderer, CSS3DObject } from 'https://threejs.org/examples/jsm/renderers/CSS3DRenderer.js';

		

		var table = [

            "img/1.png","open","Column",1,1,
			"img/2.png","#","Column",1,2,
			"img/3.png","#","Column",1,3,
			"img/4.png","#","Column",1,4,
			"img/5.png","#","Column",1,5,
			"img/6.png","#","Column",1,6,
			"img/7.png","#","Column",1,7,
			"img/8.png","#","Column",1,8,
			"img/9.png","#","Column",1,9,
			"img/coming.jpg","#","modal10",2,1,
			"img/10.png","#","Design",2,2,
			"img/6.png","#","Design",2,3,
			"img/5.png","#","Design",2,4,
			"img/2.png","#","Design",2,5,
			"img/2.png","#","Design",2,6,
			"img/4.png","#","Design",2,7,
			"img/2.png","#","Design",2,8,
			"img/6.png","#","Design",2,9,
			"img/2.png","#","Design",3,1,
			"img/5.png","#","Know-how",3,2,
			"img/2.png","#","Know-how",3,3,
			"img/2.png","#","Know-how",3,4,
			"img/4.png","#","Know-how",3,5,
			"img/2.png","#","Know-how",3,6,
			"img/3.png","#","Know-how",3,7,
			"img/3.png","#","Know-how",3,8,
			"img/6.png","#","Know-how",3,9,
			"img/3.png","#","Technology",4,1,
			"img/3.png","#","Technology",4,2,
			"img/3.png","#","Technology",4,3,
			"img/6.png","#","Technology",4,4,
			"img/3.png","#","Technology",4,5,
			"img/3.png","#","Technology",4,6,
			"img/3.png","#","Technology",4,7,
			"img/6.png","#","Technology",4,8,
			"img/3.png","#","Technology",4,9,


		];

		var camera, scene, renderer;
		var controls;
		var objects = [];
		var targets = { table: [], sphere: [], helix: [], grid: [] };
		init();
		animate();
		function init() {

			camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 5000 );
			camera.position.z = 3000;
			scene = new THREE.Scene();

			for ( var i = 0; i < table.length; i += 5 ) {

				var element = document.createElement( 'a' );
				element.className = 'element ' + table[ i + 2];
				element.setAttribute("href",table[ i + 1 ])
				// element.style.backgroundColor = 'rgba(0,127,127,' + ( Math.random() * 0.5 + 0.25 ) + ')';

				var symbol = document.createElement( 'img' );
				symbol.src = table[ i ];
				element.appendChild( symbol );

				var object = new CSS3DObject(element);
				object.position.x = Math.random() * 4000 - 2000;
				object.position.y = Math.random() * 4000 - 2000;
				object.position.z = Math.random() * 4000 - 2000;
				scene.add(object);

                objects.push(object);
				var object = new THREE.Object3D();
				object.position.x = (table[i + 3] * 140) - 1330;
				object.position.y = - (table[i + 4] * 180) + 990;
				targets.table.push(object);

			}

			var vector = new THREE.Vector3();
			for ( var i = 0, l = objects.length; i < l; i ++ ) {
				var phi = Math.acos( -1 + ( 2 * i ) / l );
				var theta = Math.sqrt( l * Math.PI ) * phi;
				var object = new THREE.Object3D();
				object.position.setFromSphericalCoords(1600, phi, theta);
				vector.copy( object.position ).multiplyScalar( 2 );
				object.lookAt( vector );
				targets.sphere.push( object );
			}

			renderer = new CSS3DRenderer();
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.getElementById('container').appendChild(renderer.domElement);

			controls = new TrackballControls(camera, renderer.domElement);
			controls.minDistance = 500;
            controls.maxDistance = 6000;
            controls.rotateSpeed = 3;
            controls.addEventListener('change', render);

			transform( targets.sphere, 2000 );
			window.addEventListener( 'resize', onWindowResize, false );
		}

		function transform( targets, duration ) {
			TWEEN.removeAll();

			for ( var i = 0; i < objects.length; i ++ ) {

				var object = objects[ i ];
				var target = targets[ i ];

				new TWEEN.Tween( object.position )
					.to( { x: target.position.x, y: target.position.y, z: target.position.z }, Math.random() * duration + duration )
					.easing( TWEEN.Easing.Exponential.InOut )
					.start();

				new TWEEN.Tween( object.rotation )
					.to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
					.easing( TWEEN.Easing.Exponential.InOut )
					.start();

			}

			new TWEEN.Tween( this )
				.to( {}, duration * 2 )
				.onUpdate( render )
				.start();


		}


		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
			renderer.setSize( window.innerWidth, window.innerHeight );

		}

		function animate() {

			requestAnimationFrame( animate );
			TWEEN.update();
			controls.update();

		}

		function render() {
			
			renderer.render( scene, camera );
			
			
		}
	</script>

</body>
</html>